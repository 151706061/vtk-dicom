PROJECT(DICOM)

# CMake version requirements
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

IF(COMMAND CMAKE_POLICY)
  CMAKE_POLICY(SET CMP0003 NEW)
ENDIF(COMMAND CMAKE_POLICY)

# Look for a VTK build directory
FIND_PACKAGE(VTK)
IF (VTK_FOUND)
  INCLUDE (${VTK_USE_FILE})
ENDIF (VTK_FOUND)

FIND_PACKAGE(GDCM)
IF(NOT GDCM_DIR)
  MESSAGE(FATAL_ERROR "Please set GDCM_DIR.")
ENDIF(NOT GDCM_DIR)
IF(GDCM_FOUND)
INCLUDE(${GDCM_USE_FILE})
ENDIF(GDCM_FOUND)

SET(LIB_SRCS
  vtkDICOMMetaData.cxx
  vtkDICOMMetaDataDict.cxx
)

ADD_LIBRARY(DataManager ${LIB_SRCS})
TARGET_LINK_LIBRARIES(DataManager vtkCommon gdcmMSFF)

ADD_EXECUTABLE(TestDICOMMetaData TestDICOMMetaData.cxx)
TARGET_LINK_LIBRARIES(TestDICOMMetaData DataManager)
